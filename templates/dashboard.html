{% extends "template-navb.html"%}
{% block content%}

<div class="container-fluid" style="height: 100%">
    <div class="row" style="height: 100%">
        <div class="col- containercont" style="width: 100%">
            <div style="padding: 10px 50px 0px 50px">
                {% if session['role'] != 'Departamento' %}
                <a class="btn btn-primary" style="display: inline-block; float:right" href="/CadastrarDashboard"> <i class="bi bi-file-earmark-plus "></i>Adicionar novo arquivo
                </a>
                {% endif %}
                <p style="font-size: 25px; display: inline-block">Departamentos dispon√≠veis</p>
            </div>
            {% for departamento, arquivos in arquivos_por_departamento.items() %}
            <div class="department-section" style="margin-top: 20px">
                <h2 style="margin-left: 50px">Departamento {{ departamento }}</h2>
                <div class="swiper mySwiper department-container">
                    <div class="swiper-wrapper">
                        {% for arquivo in arquivos %}
                        <a href="http://{{ arquivo[2] }}" class="swiper-slide file-card">
                            <img src="static/dash/{{arquivo[3]}}" alt="">
                            <h5>{{ arquivo[1] }}</h5>
                        </a>
                        {% endfor %}
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-pagination"></div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<!-- Initialize Swiper -->
<script>
    var swiper = new Swiper(".mySwiper", {
        slidesPerView: 4,
        spaceBetween: 30,
        slidesPerGroup: 3,
        loop: true,
        loopFillGroupWithBlank: true,
        pagination: {
            el: ".swiper-pagination",
            clickable: true,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });
</script>
{%endblock%}
